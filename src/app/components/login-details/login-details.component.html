<div class="container">
  <h1><span>Ahoy you!</span> Care to register?</h1>
  <div class="form">
    <app-form-field
      name="email"
      [ngModel]="email"
      (ngModelChange)="setEmail($event)"
      ngDefaultControl
      placeholder="Something ending with monterail.com"
    ></app-form-field>
    <p *ngIf="!isEmailValid() && email.length > 0" class="email-invalid">
      Invalid e-mail
    </p>
    <app-form-field
      name="password"
      placeholder="Enter your password"
      [passwordButton]="true"
      [ngModel]="password"
      (ngModelChange)="setPasswordAndProps($event)"
      ngDefaultControl
    ></app-form-field>
    <div class="password-properties">
      <p
        *ngFor="let e of passwordProps"
        [ngStyle]="{
          color: password.length > 0 ? (e.isRight ? 'green' : 'red') : 'gray'
        }"
      >
        {{ e.prop }}
      </p>
    </div>
    <div class="buttons">
      <app-non-action-button
        style="flex: 1"
        text="Log in instead"
      ></app-non-action-button>
      <app-action-button
        [disable]="!isEmailValid() || !isPasswordValid()"
        (click)="setEmailInService()"
        style="flex: 1"
        text="Next step"
        routerLink="/register"
      ></app-action-button>
    </div>
  </div>
</div>
